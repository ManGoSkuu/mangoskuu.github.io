<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>NoPixel Territory Map</title>
	<link rel="icon" href="icons/favicon.ico"/>

	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="fontawesome/css/font-awesome.css">
	<link rel="stylesheet" href="style.css">

	<script src="js/libs/jquery-min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<script src="js/libs/underscore-min.js"></script>
	<script src="js/libs/backbone-min.js"></script>
	<script src="js/libs/handlebars.js"></script>
	<script src="//maps.googleapis.com/maps/api/js?v=3.exp&key="></script>
	<script src="js/libs/maplabel-compiled.js"></script>
	<script src="js/app.js"></script>

	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
</head>
<body>
	<header>
		<p class="left" style="padding-top: 5px;">
			<a href="">NoPixel Territory Map</a>
		</p>
		<ul class="right">
			<div class="dropdown">
				<a href="https://github.com/skyrossm/np-gangmap/graphs/contributors" target="_blank"><button class="btn btn-primary">Contributors</button></a>
				<button class="btn btn-primary" id="toggleruler" onclick="toggleRuler();$(this).css('display', 'none');">Add Distance Ruler</button>
				<button class="btn btn-primary" id="createzone" onclick="printArray()">Add New Region</button>
				<button class="btn btn-secondary dropdown-toggle" type="button" id="ddmenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					Select Map Type
				</button>
				<div class="dropdown-menu" aria-labelledby="ddmenu">
					<a href="#" id="Atlas"           class="dropdown-item active" onclick="$('#' + map.getMapTypeId()).removeClass('active'); map.setMapTypeId('Atlas');           $(this).addClass('active');">Atlas</a>
					<a href="#" id="Satellite"       class="dropdown-item"        onclick="$('#' + map.getMapTypeId()).removeClass('active'); map.setMapTypeId('Satellite');       $(this).addClass('active');">Satellite</a>
					<a href="#" id="Road"            class="dropdown-item"        onclick="$('#' + map.getMapTypeId()).removeClass('active'); map.setMapTypeId('Road');            $(this).addClass('active');">Road</a>
				</div>
			</div>

		</ul>
	</header>

	<div id="map" style="background:rgb(43, 164, 210);"></div>

	<script type="x/template" id="sectionTemplate">
		{{#each sections as | section |}}
			<section class="type">
				<h3>{{name}}</h3>
				<ul>
					{{#each categories}}
						<li><label><input type="checkbox" {{#if enabled}}checked{{/if}} value="{{name}}" data-section="{{section.name}}"> <img src="icons/{{icon}}"> {{name}}</label> <a href="#" class="details" data-section="{{section.name}}" data-name="{{name}}"><i class="icon-chevron-sign-right"></i></a></li>
					{{/each}}					
					{{#ifEquals name "General"}}
						<li><label><input type="checkbox" {{#if enabled}}checked{{/if}} value="labels"> <img src="icons/General/wall-breach.png"> Labels</label> <a href="#" class="details" data-name="Labels"></a></li>
					{{/ifEquals}}

				</ul>
			</section>
		{{/each}}
	</script>

	<script type="x/template" id="categoryDetailsTemplate">
		<section class="type">
			<h3><a href="#" class="back details"><i class="icon-chevron-sign-left"></i></a> {{category}}</h3>
			<ul class="listview">
				{{#with this as | root |}}
				{{#each locations}}
					<li data-section="{{root.section}}" data-name="{{root.category}}"><div style="height:20px;width:20px;background-color:#{{fillcolor}};border: 3px solid #{{strokecolor}}; display:inline-block;margin-right:10px;"></div><label>{{title}}</label></li>
				{{/each}}
				{{/with}}
			</ul>
		</section>
	</script>

	<script type="x/template" id="markerPopupTemplate2">
		<div id="info-window" style="max-width:420px;">
			<div class="scrollable">
				<span class="header">
					<h3>{{title}}</h3>
				</span>
				<div id="info-body">
					{{#if notes}}
						<br>
						<p class="notes">{{notes}}</p>
					{{/if}}
					{{#if video}}
						<div class="video-{{id}}">
							<br>
							<h4>Video</h4>
							<div class="youtubewrapper">
								<iframe width="100%" src="//www.youtube.com/embed/{{video.yt_id}}?theme=light&amp;autoplay=0&amp;autohide=1&amp;iv_load_policy=3&amp;rel=0&amp;showinfo=0&amp;loop=1{{#if video.start}}&amp;start={{timestampToSeconds video.start}}{{/if}}{{#if video.end}}&amp;end={{timestampToSeconds video.end}}{{/if}}" frameborder="0" allowfullscreen></iframe>
							</div>
							{{#if video.yt_user_link}}
								<p>
									<a href="//www.youtube.com/{{video.yt_user_link}}" style="color:#222;font-size:.8em;float:right;" target="_blank">
										Video by {{video.yt_user_display}}
									</a>
								</p>
							{{/if}}
						</div>
					{{/if}}
					{{#if images}}
						<br>
				 		<h4>Images</h4>
					{{/if}}
					{{#each images}}
						<div class="image-{{id}}">
						 	<span>{{headline}}</span>
						 	<img src="{{url}}" class="image-{{id}}">
						</div>
						<br>
				 	{{/each}}
					{{#if wiki_link}}
						<hr>
						<a target="_blank" href="{{wiki_link}}">See {{title}} on the NoPixel Wiki</a>
					{{/if}}
				</div>
			</div>
		</div>
	</script>

	<div bis_skin_checked="1" style="z-index: 3; position: absolute; height: 100%; width: 100%; padding: 0px; border-width: 0px; margin: 0px; left: 0px; top: 0px; touch-action: pan-x pan-y;"><div bis_skin_checked="1" style="z-index: 4; position: absolute; left: 50%; top: 50%; width: 100%; will-change: transform; transform: translate(0px, 0px);"><div bis_skin_checked="1" style="position: absolute; left: 0px; top: 0px; z-index: 104; width: 100%;"></div><div bis_skin_checked="1" style="position: absolute; left: 0px; top: 0px; z-index: 105; width: 100%;"></div><div bis_skin_checked="1" style="position: absolute; left: 0px; top: 0px; z-index: 106; width: 100%;"><span id="6DC67FF7-AFC1-49B7-9857-073BCF234874" style="display: none;">Pour naviguer, appuyez sur les touches fléchées.</span><div aria-label="0" role="button" tabindex="0" bis_skin_checked="1" style="width: 26px; height: 37px; overflow: hidden; position: absolute; touch-action: none; left: 48px; top: 42px; z-index: 79;" aria-describedby="6DC67FF7-AFC1-49B7-9857-073BCF234874"><img alt="" src="https://maps.gstatic.com/mapfiles/transparent.png" draggable="false" usemap="#gmimap1" style="width: 26px; height: 37px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"><map name="gmimap1" id="gmimap1"><area log="miw" coords="13,0,4,3.5,0,12,2.75,21,13,37,23.5,21,26,12,22,3.5" shape="poly" tabindex="-1" title="" style="display: inline; position: absolute; left: 0px; top: 0px; cursor: pointer; touch-action: none;"></map></div></div><div bis_skin_checked="1" style="position: absolute; left: 0px; top: 0px; z-index: 107; width: 100%;"><button type="button" title="Annuler la dernière modification" aria-label="Annuler la dernière modification" style="background: transparent; border: none; margin: 0px; padding: 0px; z-index: -202; cursor: pointer; display: none; touch-action: none;"><span style="display: inline-block;"><div bis_skin_checked="1" style="width: 30px; height: 27px; overflow: hidden; position: relative;"><img alt="" src="https://maps.gstatic.com/mapfiles/undo_poly.png" draggable="false" style="position: absolute; left: 0px; top: 0px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; width: 90px; height: 27px;"></div></span></button></div></div></div>
	<div id="typeDetails" class="types"></div>

	<div id="types" class="types"></div>
</body>
</html>
